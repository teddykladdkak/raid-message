<!DOCTYPE html>
<html>
<head>
	<title>Raid Messenger</title>
	<link rel="manifest" href="manifest.json">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta content="yes" name="apple-mobile-web-app-capable" />
	<meta content="yes" name="mobile-web-app-capable" />
	<meta content="minimum-scale=1.0, width=device-width, maximum-scale=0.6667, user-scalable=no" name="viewport" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />

	<meta property="og:title" content="Raid Messenger" />
	<meta property="og:url" content="https://www.raidlund.tk" />
	<meta property="og:type" content="website" />
	<meta property="og:description" content="Applikation som ämnar ersätta Facebook, Messenger, Discord m.m. i jakten på Raids!"/>
	<meta property="og:image" content="ico/icon.jpg" />

	<link rel="shortcut icon" href="ico/icon.ico" />
	<link rel="icon" type="image/vnd.microsoft.icon" href="ico/icon.ico" />
	<link rel="icon" type="image/png" href="ico/icon196x196.png" />
	<link rel="apple-touch-icon-precomposed" href="ico/icon180x180.png"/>
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="ico/icon76x76.png">
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="ico/icon120x120.png">
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="ico/icon152x152.png">

	<script src="script/notificationPublicKey.js" type="text/javascript"></script>

	<style type="text/css">
		body, html, table, tr, td {
			margin: 0px;
			padding: 0px;
		}
		table, tr, td {
			border-collapse: collapse;
		}
		td {
			vertical-align: middle;
		}
		input, select, textarea {
			box-sizing : border-box;
		}
		input, select, textarea, p, span {
			font-size: 20px;
		}
		input[type=button] {
			min-height: 35px;
			margin: 5px;
		}
		textarea {
			width: 100%;
		}
		#registrera table, #teamwrapper {
			width: 100%;
			max-width: 400px;
		}
		#teamwrapper td {
			width: 25%;
		}
		#teamwrapper .chosenteam {
			border: solid 2px black;
		}
		#meny {
			padding: 5px;
		}
		.unknown {
			color: black;
		}
		.instinct {
			color: #b9b900;
		}
		.mystic {
			color: blue;
		}
		.valor {
			color: red;
		}
		.unknownbg {
			background-color: black;
			color: white;
		}
		.instinctbg {
			background-color: yellow;
			color: black;
		}
		.mysticbg {
			background-color: blue;
			color: white;
		}
		.valorbg {
			background-color: red;
			color: black;
		}
		#raidimagepreview{
			min-width: 200px;
			max-width: 200px;
		}
		.raidimage {
			max-width: 300px;
			width: 100%;
		}
		.postbody, #addraid, #registrera {
			max-width: 400px;
			margin: 20px auto;
			padding: 5px;
			display: block;
			border: solid 1px black;
		}
		.postbody p {
			margin: 5px;
			padding: 5px;
		}
		.tablewidth, .tablewidth tr, td.head {
			width: 100%;
		}
		.right {
			text-align: right;
		}
		.center, #nopost {
			text-align: center;
		}
		#meny {
			position: fixed;
			top: 0px;
			left: 0px;
			width: 100%;
			max-width: 100%;
			height: 40px;
			z-index: 4;
		}
		#wrapper {
			padding-top: 40px;
		}
		#meny .svg {
			height: 35px;
			background-color: white;
			color: black;
			padding: 2px 5px;
			margin-right: 10px;
			min-width: 34px;
		}
		#posts .svg, .fributton {
			max-height: 35px;
			max-width: 35px;
			min-width: 35px;
			background-color: white;
			color: black;
			padding: 5px;
			margin-top: 5px;
			margin-right: 5px;
		}
		#posts .invert, .fributton {
			background-color: black;
			color: white;
			padding: 2px;
		}
		.fributton {
			padding: 5px;
		}
		#posts .invert svg {
			background-color: black;
			color: white;
		}
		.kommentnummer {
			padding-left: 0px;
		}
		#prompt {
			position: fixed;
			top: 0px;
			right: 0px;
			bottom: 0px;
			left: 0px;
			z-index: 999;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		#promptbg {
			position: fixed;
			top: 0px;
			right: 0px;
			bottom: 0px;
			left: 0px;
			background-color: black;
			opacity: 0.5;
			z-index: 998;
		}
		#content {
			background-color: white;
			padding: 10px;
			border: solid 2px black;
		}
		img.loading {
			opacity: 0.5;
		}
		.wrapperraidimagepreview {
			background-image: url("img/load.gif");
			background-repeat: no-repeat;
			background-position: center;
			background-size: cover;
			display: inline-block;
		}
		/*.exraid {
			border: solid 2px red;
		}*/
		.raidimagewrapp {
			position: relative;
			top: 0;
			left: 0;
		}
		.raidimage {
			position: relative;
			top: 0;
			left: 0;
			z-index: 2;
		}
		.exraid {
			position: absolute;
			top: -85px;
			right: 5px;
			z-index: 3;
			height: 120px;
			width: 120px;
		}
		#message {
			position: fixed;
		    left: 0px;
		    top: 0px;
		    width:100%;
		    margin: 0px;
		    padding: 5px;

		    z-index: 999;

			font-weight: bold;
			text-align: center;

			opacity: 0;
			display: none;
		}
		#message.show {
			display: block;
		    -webkit-animation: fadeinout 3s linear forwards;
		    animation: fadeinout 3s linear forwards;
		}
			@-webkit-keyframes fadeinout {
			  0%,100% { opacity: 0; }
			  10%, 90% { opacity: 1; }
			}
			@keyframes fadeinout {
			  0%,100% { opacity: 0; }
			  10%, 90% { opacity: 1; }
			}
		#message.error {
			background-color: red;
			color: white;
		}
		#message.info {
			background-color: yellow;
			color: black;
		}
		#message.good {
			background-color: green;
			color: white;
		}
		.disabled {
			opacity: 0.5;
		}
	</style>
</head>
<body onload="load();">
	<div id="message">Test text</div>
	<div id="registrera" style="display: none;">
		<p>Användarnamn/Username<br/>(Vanligt namn, namn i Pokémon Go, lämna blank för "Anonym")</p>
		<input type="text" id="namn" onkeyup="this.value = rensaochsakra(this.value);">
		<p>Lag/Team</p>
		<table>
			<tr id="teamwrapper">
				<td class="chosenteam" onclick="chooseteam(this)" data-team="unknown">
					<?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><svg style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" viewBox="0 0 223 223" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"><![CDATA[.fil1 {fill:#FEFEFE}.fil3 {fill:#DCDDDD}.fil0 {fill:#C9CACA}.fil2 {fill:#474443}.fil5 {fill:#332C2B}.fil6 {fill:#E62129;fill-rule:nonzero}.fil4 {fill:#FEFEFE;fill-opacity:0.501961}]]></style></defs><g id="Layer_x0020_1"><circle class="fil0" cx="112" cy="112" r="112"/><path class="fil1" d="M217 112c0,58 -47,105 -105,105 -59,0 -106,-47 -106,-105l211 0z"/><path class="fil2" d="M112 6c58,0 105,47 105,106l-211 0c0,-59 47,-106 106,-106z"/><path class="fil3" d="M37 179c22,27 118,29 174,-49 -29,111 -150,88 -174,49z"/><path class="fil4" d="M18 81c0,0 2,-29 36,-51 34,-21 32,-3 24,4 -5,5 -45,5 -60,47z"/><path class="fil5" d="M217 103c0,3 0,6 0,9 0,2 0,4 0,6l-211 0c0,-2 0,-4 0,-6 0,-3 0,-6 0,-9l211 0z"/><circle class="fil5" cx="112" cy="112" r="35"/><circle class="fil1" cx="112" cy="112" r="23"/><path class="fil6" d="M91 75l0 -46 23 0c5,0 10,0 12,1 3,1 5,2 6,4 2,3 3,5 3,8 0,3 -1,6 -4,8 -2,2 -6,4 -10,4 2,2 4,3 5,4 2,2 4,4 7,8l6 9 -13 0 -8 -10c-2,-4 -4,-6 -5,-7 -1,-1 -2,-2 -4,-2 -1,0 -3,0 -5,0l-2 0 0 19 -11 0zm11 -27l8 0c5,0 8,0 9,0 2,-1 3,-1 3,-2 1,-1 2,-2 2,-4 0,-1 -1,-3 -2,-4 -1,0 -2,-1 -4,-1 -1,0 -3,0 -8,0l-8 0 0 11z"/></g></svg>
				</td>
				<td onclick="chooseteam(this)"  data-team="instinct">
					<?xml version="1.0" ?><svg enable-background="new 0 0 512 512" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon fill="#FED943" points="256,263 243.6,254.4 202,302.1 242.2,289.1 256,336.8 269.8,289.1 310,302.1 268.4,254.4 "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_1_" x1="256" x2="256" y1="325.9744" y2="258.3718"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_1_)" points="244.2,285.3 211.4,295.9 244.1,258.4 256,266.6 267.9,258.4 300.6,295.9 267.8,285.3   256,326 "/><g><polygon fill="#FED943" points="473,104.4 290.6,175.1 298.3,189.4 271.6,189.7 257.2,252.8 402.9,178 365.1,177.8  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_2_" x1="355.5488" x2="355.5488" y1="247.1824" y2="116.6785"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_2_)" points="274,192.7 303.3,192.3 294.9,176.7 449.6,116.7 355.4,180.7 390.7,181 261.5,247.2  "/><polygon fill="#FED943" points="254.8,252.8 240.4,189.8 213.4,189.7 221.3,175.1 39,104.4 146.9,177.8 109.1,178  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_3_" x1="156.4512" x2="156.4512" y1="247.1824" y2="116.6775"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_3_)" points="121.3,181 156.6,180.7 62.4,116.7 217.1,176.7 208.4,192.7 238.1,192.7 250.5,247.2  "/></g><g><polygon fill="#FED943" points="362.2,211.9 256,410.2 149.8,211.9 124.2,198.7 256,444.9 387.8,198.7  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_4_" x1="255.9995" x2="255.9995" y1="438.5242" y2="205.7898"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_4_)" points="131.4,205.8 147.6,214.1 256,416.5 364.4,214.1 380.6,205.8 256,438.5  "/></g><polygon fill="#FED943" points="413.7,115.6 437.1,106.5 456.1,71 287.2,121.3 283,139.6 423.2,97.9 "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_5_" x1="368.5903" x2="368.5903" y1="135.2468" y2="75.949"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_5_)" points="289.7,123.6 450.1,75.9 435,104.1 420.2,109.9 429.2,93 287.1,135.2 "/><polygon fill="#FED943" points="98.3,115.6 88.8,97.9 229,139.6 224.8,121.3 55.9,71 74.9,106.5 "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_6_" x1="143.4097" x2="143.4097" y1="135.2468" y2="75.949"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_6_)" points="82.8,93 91.8,109.9 77,104.1 61.9,75.9 222.3,123.6 224.9,135.2 "/><polygon fill="#FED943" points="256,139.1 283.9,104.1 274,147.7 318.7,147.7 278.4,167.2 286.6,182.5 266,182.8 256,226.4   246,182.8 225.1,182.7 233.6,167.2 193.3,147.7 238,147.7 228.1,104.1 "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_7_" x1="256" x2="256" y1="212.9392" y2="116.2136"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.8543"/><stop offset="1" style="stop-color:#FFFFFF"/></linearGradient><polygon fill="url(#SVGID_7_)" points="248.4,179.8 230.2,179.7 237.7,165.8 206.4,150.7 241.8,150.7 233.9,116.2 256,143.9   278.1,116.2 270.2,150.7 305.6,150.7 274.3,165.8 281.7,179.6 263.6,179.8 256,212.9 "/></svg>
				</td>
				<td onclick="chooseteam(this)" data-team="mystic">
					<?xml version="1.0" ?><svg enable-background="new 0 0 512 512" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><polygon fill="#1965E0" points="270.1,190.4 255.8,150 241.6,190.4 255.8,230.9  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_1_" x1="255.8364" x2="255.8364" y1="221.1098" y2="159.7755"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><polygon fill="url(#SVGID_1_)" points="245,190.4 255.8,159.8 266.6,190.4 255.8,221.1  "/><polygon fill="#1965E0" points="307.7,181.7 274.4,197.6 258.5,230.9 291.7,214.9  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_2_" x1="283.0959" x2="283.0959" y1="223.9691" y2="188.6149"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><polygon fill="url(#SVGID_2_)" points="276.9,200.1 300.8,188.6 289.3,212.5 265.4,224  "/><polygon fill="#1965E0" points="204,181.7 219.9,214.9 253.2,230.9 237.2,197.6  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_3_" x1="228.5759" x2="228.5759" y1="223.9691" y2="188.6149"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><polygon fill="url(#SVGID_3_)" points="222.4,212.5 210.9,188.6 234.8,200.1 246.3,224  "/><polygon fill="#1965E0" points="256,331.7 284,274 275.2,228.3 255.8,244.7 236.8,228.3 228,274  "/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_4_" x1="255.9999" x2="255.9999" y1="324.252" y2="234.3852"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><polygon fill="url(#SVGID_4_)" points="231.4,273.6 238.9,234.4 255.8,249 273.1,234.4 280.6,273.6 256,324.3  "/><path d="M81.9,143.1c0,12.8,10.4,27.6,23.2,32.9l77,32.2v2.2l-76.7-32c0,12.8,10.4,27.6,23.2,32.9l53.5,22.3v2.2   l-55.1-23c0,12.8,10.4,27.6,23.2,32.9L220,274l8-27.5l-33.7-64c-7.5-14.3-20.1-26.2-33.6-31.8L55.9,106.9   c0,12.8,10.4,27.6,23.2,32.9l103.1,43v2.2L81.9,143.1z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_5_" x1="142.0825" x2="142.0825" y1="269.6571" y2="111.9728"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M151.6,242.7c-10-4.2-18.4-14.6-20.6-24.8l54.5,22.8v-9.2L130,208.3c-10-4.2-18.4-14.6-20.7-24.8   l76.1,31.8v-9.2l-79-33c-10-4.2-18.4-14.6-20.7-24.8l99.7,41.6v-9.2L80.3,136.8c-10-4.2-18.4-14.6-20.7-24.8l99.8,41.7   c12.8,5.3,24.7,16.7,31.9,30.4l33.1,62.8l-6.6,22.8L151.6,242.7z" fill="url(#SVGID_5_)"/><path d="M351.3,150.6c-13.5,5.6-26,17.5-33.6,31.8l-33.7,64l8,27.5l69.7-28.3c12.8-5.4,23.2-20.1,23.2-32.9   l-55.1,23v-2.2l53.5-22.3c12.8-5.4,23.2-20.1,23.2-32.9l-76.7,32v-2.2l77-32.2c12.8-5.4,23.2-20.1,23.2-32.9L329.8,185v-2.2   l103.1-43c12.8-5.4,23.2-20.1,23.2-32.9L351.3,150.6z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_6_" x1="369.9173" x2="369.9173" y1="269.6571" y2="111.9728"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M287.5,246.8l33.1-62.8c7.2-13.7,19.1-25,31.9-30.4l99.8-41.7c-2.2,10.2-10.6,20.7-20.7,24.8   l-105.1,43.9v9.2l99.7-41.6c-2.2,10.2-10.6,20.7-20.7,24.8l-79,33v9.2l76.1-31.8c-2.2,10.2-10.6,20.7-20.7,24.8l-55.5,23.1v9.2   l54.5-22.8c-2.2,10.2-10.6,20.7-20.7,24.8l-66.3,26.9L287.5,246.8z" fill="url(#SVGID_6_)"/><path d="M164.8,141.2l90.1-52l91,52.6c0.5-0.2,0.9-0.4,1.4-0.6l23.6-9.9l-116.1-67l-115.1,66.5l24.9,10.4   C164.7,141.2,164.8,141.2,164.8,141.2z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_7_" x1="255.365" x2="255.365" y1="138.1638" y2="68.0376"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><polygon fill="url(#SVGID_7_)" points="254.9,85.5 164.6,137.6 147,130.3 254.9,68 363.7,130.8 346.1,138.2  "/><path d="M397.6,214.5v121.9l-142.7,82.4l-42.6-24.6c-0.1,0-0.2,0-0.3,0c-2-0.1-4.1-0.2-6.1-0.4l-1.5-0.1   c-0.1,0-0.2,0-0.3,0l-1.3,0c-0.5,0-1.2,0.1-1.9,0.3c-1.1,0.3-2.3,0.9-3.4,1.6c-0.4,0.3-0.8,0.7-1.4,1.2c-0.1,0.1-0.2,0.2-0.3,0.4   c-0.1,0.1-0.1,0.2-0.2,0.2l-0.9,1.3c-1.7,2.6-3.3,5.1-4.8,7.4l65,37.6l164.3-94.9V180.8c-0.9,0.6-1.8,1.3-2.8,1.8   C415,194.5,407.7,206.6,397.6,214.5z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_8_" x1="305.2222" x2="305.2222" y1="440.0547" y2="195.9966"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M194.4,405.1c1-1.5,2-3,3-4.6l0.8-1.1l0.3-0.4c0.4-0.4,0.6-0.6,0.9-0.8c0.7-0.6,1.5-0.9,2.2-1.1   c0.4-0.1,0.8-0.2,1.2-0.2l1,0c0.1,0,1.8,0.1,1.8,0.1c1.9,0.1,3.9,0.2,5.7,0.3l43.6,25.2l146-84.3V216.1   c6.5-5.5,11.8-12.6,15.1-20.1v151.1l-161.1,93L194.4,405.1z" fill="url(#SVGID_8_)"/><path d="M176.1,389.5l0.9-2.3c0.3-0.7,0.7-1.4,1-2l0.4-0.8c1.2-1.9,2.3-3.6,3.6-5c0.5-0.6,1-1.1,1.6-1.6l-71.6-41.3   V212.7c-8.9-7.9-15.3-19.1-16.7-30.1c-1.7-1-3.4-2.2-4.9-3.5v169.8l82.9,47.9C174.3,394.5,175.2,392,176.1,389.5z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_9_" x1="136.2179" x2="136.2179" y1="392.0442" y2="190.1347"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M93.8,347.1V190.1c2.6,8.7,8,17.3,15.1,24v124.2l69.7,40.2c-1,1.3-2,2.6-2.9,4.2l-0.5,0.9   c-0.4,0.7-0.8,1.5-1.2,2.3l-0.9,2.3c-0.5,1.3-0.9,2.5-1.4,3.7L93.8,347.1z" fill="url(#SVGID_9_)"/><path d="M190.7,395.1l0.4-0.6c0.3-0.4,0.6-0.8,0.9-1.1c0.7-0.7,1.4-1.4,2.2-2c1.6-1.2,3.4-2.1,5.4-2.6   c1-0.2,2-0.4,3-0.4c0.5,0,1,0,1.6,0l0.6,0c0.1,0-0.4,0-0.2,0l0.1,0l0.1,0l0.3,0l1.1,0.1c3.1,0.2,6.2,0.3,9.4,0.5   c3.2,0.2,6.4,0.3,9.7,0.4c1.6,0.1,3.3,0.1,5,0.2c1.7,0,3.3,0.1,5,0.1c6.7,0.2,13.5,0.2,20.3,0.3c6.8,0,13.6-0.1,20.3-0.3l1.3,0   c0.4,0,0.8,0,1.4-0.1c1.2-0.1,2.3-0.2,3.5-0.3c1.1-0.2,2.3-0.5,3.4-0.8c1.1-0.3,2.2-0.8,3.3-1.2c4.2-1.8,7.9-4.7,10.6-8.1   c5.5-6.8,7.3-15.8,5.3-23.3c-0.2-0.9-0.6-2-0.9-3l-0.6-1.5c-0.2-0.4-0.3-0.7-0.5-1c-0.4-0.8-0.8-1.5-1.2-2.3   c-0.5-0.8-1-1.5-1.6-2.2c-1.1-1.4-2.3-2.6-3.6-3.7c-1.3-1.1-2.6-2-4-2.8c-2.8-1.5-5.7-2.4-8.5-2.8c-0.7-0.1-1.4-0.1-2.1-0.2   c-0.7,0-1.5,0-2.1,0c-0.6,0.1-1.2,0.1-1.8,0.2c-0.5,0.1-1.1,0.1-1.6,0.2c-4.1,0.6-7.8,1.1-10.7,1.6c-6,1-9.4,1.7-9.4,1.7   s3.4,0.8,9.4,1.7c3,0.5,6.6,1,10.7,1.6c0.5,0.1,1,0.1,1.6,0.2c0.5,0.1,1,0.2,1.5,0.2c0.5,0.1,0.8,0.2,1.2,0.3   c0.4,0.2,0.9,0.3,1.3,0.5c1.7,0.7,3.4,1.7,4.9,3c1.5,1.3,2.7,2.9,3.6,4.6c0.2,0.4,0.4,0.9,0.6,1.4l0,0.1l0,0c0,0.1-0.3-0.6-0.2-0.3   l0.1,0.2l0.2,0.5l0.4,1c0.1,0.3,0.3,0.7,0.3,1l0,0.6c0,0.4,0.1,0.7,0.1,1.3c0.4,4-1.3,8.1-4.1,11c-1.5,1.4-3.2,2.5-5,3.1   c-0.5,0.1-0.9,0.3-1.4,0.4c-0.5,0.1-1,0.1-1.5,0.2c-0.5,0-1,0-1.5,0c-0.2,0-0.7,0-1.1,0l-1.3,0c-6.7-0.2-13.5-0.2-20.3-0.3   c-6.8,0-13.6,0.1-20.3,0.3c-1.7,0-3.3,0.1-5,0.1c-1.7,0.1-3.3,0.1-5,0.2c-3.3,0.1-6.5,0.2-9.7,0.4c-3.2,0.2-6.3,0.3-9.4,0.5   l-1.1,0.1l-0.3,0l-0.1,0l-0.1,0l-0.3,0l-0.6,0.1l-0.6,0.1l-0.3,0l-0.4,0.1l-1.7,0.2c-2,0.4-3.9,1-5.6,1.8c-3.5,1.6-6.6,3.8-8.9,6.5   c-1.2,1.3-2.2,2.7-3,4.2c-0.4,0.7-0.8,1.5-1.1,2.2c-0.2,0.4-0.3,0.7-0.5,1.1l-0.3,0.9c-1.8,4.8-3.4,9.3-4.7,13.2   c-1.3,4-2.5,7.4-3.3,10.3c-1.8,5.8-2.6,9.2-2.6,9.2s2.2-2.7,5.7-7.6c1.8-2.4,3.9-5.4,6.2-8.9c2.3-3.5,4.9-7.4,7.7-11.7L190.7,395.1   z" fill="#1965E0"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_10_" x1="240.672" x2="240.672" y1="406.5609" y2="339.835"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M179.5,405.7c1.3-4,2.9-8.4,4.7-13.1l0.3-0.8l0.4-1c0.2-0.5,0.4-0.9,0.7-1.4   c0.1-0.2,0.2-0.4,0.3-0.6c0.9-1.4,1.7-2.6,2.6-3.6c2.1-2.3,4.8-4.3,7.8-5.7c1.5-0.7,3.1-1.2,4.9-1.5l1.6-0.2l0.4,0l1.2-0.1l0.3,0   l1.6-0.1c2-0.1,3.9-0.2,5.9-0.3c1.1-0.1,2.3-0.1,3.4-0.2c2.5-0.1,5.1-0.2,7.8-0.3l6.9-0.3l5-0.1c5.6-0.2,11.5-0.2,17.1-0.2l3.1,0   l2.4,0c5.9,0,11.9,0.1,17.8,0.3c0,0,2,0,2.2,0c0.2,0,0.4,0,0.5,0c0.3,0,0.6,0,0.9,0l0.6,0l0.3-0.1c0.4-0.1,0.8-0.1,1.2-0.2l0.2,0   l0.2,0c0.3-0.1,0.6-0.2,0.9-0.2c0.2,0,0.3-0.1,0.5-0.1l0.2,0l0.2-0.1c2.3-0.8,4.4-2.1,6.2-3.9c3.6-3.6,5.5-8.6,5.1-13.4   c0-0.6-0.1-1-0.1-1.2l0-0.1l-0.1-0.8l0-0.1c-0.1-0.5-0.2-0.9-0.3-1.2c0-0.1-0.7-2-0.7-2l0,0l-0.2-0.4c-0.2-0.4-0.4-0.8-0.6-1.2   c-1-2.1-2.5-3.9-4.3-5.6c-1.6-1.4-3.5-2.6-5.7-3.5c-0.4-0.2-0.8-0.3-1.1-0.4c-0.1,0-0.2-0.1-0.4-0.1l-0.1,0l-0.4-0.1   c-0.3-0.1-0.7-0.2-1.1-0.3l-0.1,0l-1.6-0.3c0,0-2.2-0.3-2.5-0.3c0.3,0,2.3-0.3,2.3-0.3l1.6-0.1c0.2,0,0.5,0,0.7,0c0.3,0,0.7,0,1,0   c0.2,0,0.4,0,0.6,0c0.4,0,0.8,0,1.1,0.1l0.1,0c2.5,0.3,5,1.1,7.4,2.4c1.2,0.6,2.4,1.5,3.5,2.4c1.1,0.9,2.2,2,3.2,3.3   c0.5,0.6,0.9,1.1,1.3,1.8l1.2,2.2c0,0.1,0.1,0.2,0.2,0.4c0.1,0.1,0.1,0.2,0.2,0.3l0.5,1.4l0.2,0.5c0.2,0.6,0.5,1.4,0.6,1.8l0,0.1   l0,0.1c1.8,6.8,0,14.7-4.7,20.5c-2.4,3.1-5.6,5.5-9.3,7.1l-0.6,0.2c-0.8,0.3-1.5,0.6-2.3,0.8c-1,0.3-2,0.5-3.1,0.7   c-0.9,0.1-1.7,0.2-2.7,0.2l-0.5,0c-0.4,0-0.6,0-0.9,0l-1.6,0c-5.9,0.2-11.9,0.2-17.8,0.3l-2.5,0l-3.1,0c-5.6,0-11.5-0.1-17.1-0.2   l-5-0.1l-6.8-0.3c-2.7-0.1-5.2-0.2-7.8-0.3c-1.2-0.1-2.3-0.1-3.4-0.2c-1.5-0.1-3-0.1-4.4-0.2l0-0.2h-3.2l-0.5,0l-1.7,0l-0.1,0   c-1.1,0.1-2.2,0.2-3.5,0.5c-2.4,0.6-4.6,1.6-6.6,3.1c-1.1,0.8-2,1.7-2.6,2.4l-0.1,0.1l-0.1,0.1c-0.1,0.1-0.2,0.2-0.3,0.3   c-0.2,0.3-0.5,0.6-0.8,1l-0.5,0.6l-0.6,0.9c-2.7,4.3-5.3,8.2-7.7,11.7c-0.2,0.3-0.4,0.5-0.5,0.8C179.3,406.3,179.4,406,179.5,405.7   z" fill="url(#SVGID_10_)"/></g></svg>
				</td>
				<td onclick="chooseteam(this)" data-team="valor">
					<?xml version="1.0" ?><svg enable-background="new 0 0 512 512" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M95.6,256.9H76.9c0,72.2,42.9,136.9,109.4,165l7.3-17.2C134.1,379.5,95.6,321.5,95.6,256.9z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_1_" x1="134.8296" x2="134.8296" y1="418.2322" y2="259.6881"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M184.8,418.2c-63.1-27.9-104-89.6-105.1-158.5h13.1c1.1,63.7,38.9,120.7,97.1,146.5L184.8,418.2z" fill="url(#SVGID_1_)"/><path d="M331.4,398.6l8.8,16.5c58.6-31.2,95-91.8,95-158.2h-18.7C416.5,316.3,383.9,370.6,331.4,398.6z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_2_" x1="383.7427" x2="383.7427" y1="411.2446" y2="259.6881"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M335.2,399.7c51.1-28.4,83.1-81.6,84.1-140h13.1c-1,63.3-35.6,120.9-91,151.6L335.2,399.7z" fill="url(#SVGID_2_)"/><path d="M256,96.5c44,0,85,17.5,115.6,49.2l13.5-13C351,97.3,305.2,77.8,256,77.8c-25,0-49.3,5.1-72,15.1   c-22,9.6-41.5,23.4-58.1,40.9l13.6,12.9C170.2,114.2,211.5,96.5,256,96.5z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_3_" x1="255.5257" x2="255.5257" y1="142.6136" y2="80.5679"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M130,133.6c15.9-16.3,34.4-29.1,55.2-38.2c22.4-9.8,46.2-14.8,70.9-14.8c47.4,0,91.7,18.5,125.1,52   l-9.4,9.1c-30.8-31-71.8-48-115.6-48c-44.3,0-85.6,17.4-116.6,49L130,133.6z" fill="url(#SVGID_3_)"/><path d="M256.5,326.9c0,0,15-43.7,54.9-69.8c5.3-3.5,32.3,13,37.7,9.5c5.8-3.8,11.6-7.6,17.3-11.3   c32.8-21.4,61.5-40.2,66.5-43.8c-26.6,3.1-32.1-7-32.1-7c58.1-26.7,33.6-72.3,33.6-72.3c1.8,20.8-23,29.3-23,29.3   c12.7-23.2-8.7-59.2-8.7-59.2c12.6,52.5-68,103.4-114.8,128.2c-3.4,8.2-10,15-18.4,18.5l-13.1,63.6L243.4,249   c-8.4-3.5-15-10.3-18.4-18.5c-46.8-24.7-127.4-75.7-114.8-128.2c0,0-21.4,36-8.7,59.2c0,0-24.9-8.5-23-29.3   c0,0-24.5,45.5,33.6,72.3c0,0-5.5,10.1-32.1,7c5,3.5,33.7,22.3,66.5,43.8c5.7,3.7,11.5,7.5,17.3,11.3c5.4,3.5,32.4-13,37.7-9.5   C241.5,283.1,256.5,326.9,256.5,326.9z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_4_" x1="256.4809" x2="256.4809" y1="319.3449" y2="117.2215"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.92" style="stop-color:#FFFFFF;stop-opacity:0.736"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M256.5,319.3c-5.9-13.4-22-44.1-53.4-64.6c-1-0.6-2.2-0.9-3.6-0.9c-4.2,0-10.8,2.6-17.7,5.4   c-5.9,2.4-12.6,5-15.7,5c-0.5,0-0.7-0.1-0.7-0.1c-5.8-3.8-11.6-7.6-17.3-11.3c-28.1-18.4-47.5-31.1-58-38c19.1-0.2,24-8.2,24.5-9.1   l1.4-2.6l-2.7-1.3c-18.6-8.5-30.3-19.9-34.9-33.6c-3.1-9.3-2.4-18-0.9-24.5c1.9,4.8,5.3,9.2,10.2,13c6.3,5,12.8,7.2,13,7.3l6.8,2.3   l-3.5-6.3c-7.1-13-2.5-30.8,2.3-42.9c3.5,47.8,72.3,91.8,116.6,115.3c3.7,8.1,10.2,14.7,18.1,18.5l12.8,62.2h5.5L272,251   c8-3.7,14.5-10.4,18.1-18.5C334.5,209,403.3,165,406.8,117.2c4.8,12.1,9.4,29.9,2.3,42.9l-3.5,6.3l6.8-2.3   c0.9-0.3,17.6-6.2,23.2-20.2c1.4,6.4,2.1,15.2-1,24.4c-4.6,13.8-16.4,25.1-34.9,33.6l-2.7,1.3l1.4,2.6c0.5,0.9,5.4,8.9,24.5,9.1   c-10.5,7-29.9,19.7-58,38c-5.7,3.7-11.5,7.5-17.3,11.3c0,0,0,0,0,0c0,0-0.2,0-0.6,0c-3.2,0-9.8-2.7-15.7-5   c-7-2.8-13.5-5.4-17.7-5.4c-1.5,0-2.7,0.3-3.6,0.9C278.5,275.2,262.4,305.9,256.5,319.3z" fill="url(#SVGID_4_)"/><path d="M248.2,244.8l8.3,40l8.3-40c11.8-3.5,20.3-14.5,20.3-27.4c0-15.8-12.8-28.6-28.6-28.6   c-15.8,0-28.6,12.8-28.6,28.6C227.9,230.4,236.5,241.3,248.2,244.8z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_5_" x1="256.4874" x2="256.4874" y1="270.9524" y2="191.6594"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M250.6,242.6l-1.6-0.5c-10.8-3.3-18.3-13.4-18.3-24.7c0-14.2,11.6-25.8,25.8-25.8   c14.2,0,25.8,11.6,25.8,25.8c0,11.3-7.5,21.4-18.3,24.7l-1.6,0.5l-5.8,28.3L250.6,242.6z" fill="url(#SVGID_5_)"/><path d="M243.1,173.7c-2.5-6.7,7.8-12.1,7.8-12.1c12.4,16.1-1.7,18.2-1.7,18.2c20.2,13.1,33-13.3,25-29   c-3-5.8-6-10.3-3.8-17.5c-4.7,2.7-9,7.7-7.1,14.2c3.7,12.5-14.1,13.2-7.4-5.1c6.7-18.3-5-29.9-5-29.9s1.9,11.1-10.8,29.1   C227.5,159.7,243.1,173.7,243.1,173.7z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_6_" x1="255.8831" x2="255.8831" y1="180.5876" y2="120.9836"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M259.7,180.6c-1.3,0-2.7-0.2-4.2-0.7c1-0.9,1.9-2,2.5-3.5c1.7-4.3,0.1-9.8-5-16.4l-1.4-1.9l-2.1,1.1   c-2.8,1.5-6.5,4.2-8.4,7.7c-3.1-5-5.8-13.6,1.2-23.6c6.6-9.3,9.4-17,10.6-22.4c2.1,4.7,3.5,11.8,0.3,20.6   c-2.9,7.9-1.5,12.4,0.1,14.8c1.4,2,3.5,3.1,5.8,3.1c0,0,0,0,0,0c2.2,0,4.3-1.1,5.7-2.9c1.8-2.5,2.2-5.9,1.1-9.7   c-0.8-2.6-0.2-4.8,1-6.6c0.5,3.8,2.2,7,3.8,10.1c0.3,0.6,0.6,1.1,0.9,1.7c3.2,6.3,2.7,15.2-1.2,21.6   C268.9,176.3,265.4,180.6,259.7,180.6z" fill="url(#SVGID_6_)"/><path d="M310.4,428.7c0,0,0-2.1-1-11.2c-4.3,11.5-26.1,25.9-39.8,14.3c-12.5-10.6,1.9-24,1.9-24s-2.3,7.1,10.9,10   c0,0-8.3-10.2-2.5-20.2c27.9-47.7-23.3-34-7.2-73.9c-8.9,6.7-35.9,23.6-30.2,38.5l0,0c13.6,20.7-4.8,21.4-17.2,31.2   c-14.9,11.8-24.3,38-10,52.3c0,0-3.7-19.9,5.6-22.4c0,0,13.4,45.5,61.3,36.7c46.8-8.6,47.7-46,38.3-57.2   C320.7,402.9,324.7,425,310.4,428.7z" fill="#C23117"/><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_7_" x1="266.79" x2="266.79" y1="458.4043" y2="331.0244"><stop offset="0" style="stop-color:#FFFFFF;stop-opacity:0"/><stop offset="0.8543" style="stop-color:#FFFFFF;stop-opacity:0.6834"/><stop offset="1" style="stop-color:#FFFFFF;stop-opacity:0.8"/></linearGradient><path d="M270.4,458.4c-35.7,0-46.3-34.4-46.7-35.8l-0.8-2.6l-2.6,0.7c-5.9,1.6-7.9,7.8-8.3,13.7   c-0.8-3.1-1-6.1-0.8-8.5c0.6-11,7.1-23.1,16-30.1c2.9-2.3,6.2-4.1,9.4-5.8c6.1-3.3,11.8-6.4,13.3-12.4c1.1-4.5-0.4-9.7-4.7-16.4   c-3.5-10,12.3-22.6,22.5-30c-3.1,14.3,3.6,21,9.6,27c7.7,7.7,14.3,14.4,0.4,38.2c-3.5,6-2.7,11.9-1.2,16.3   c-0.8-0.5-1.3-1.1-1.7-1.7c-0.7-1.2-0.5-2.1-0.5-2.2l-4.6-2.8c-0.3,0.3-8.1,7.6-7.9,16.4c0.1,4.4,2.1,8.4,6.1,11.7   c3.9,3.3,8.5,5,13.8,5c0,0,0,0,0,0c9.7,0,19.8-5.9,25.9-12.9c0.2,2.1,0.2,2.7,0.2,2.8l0.1,3.5l3.4-0.9c6.4-1.7,9.7-6.2,11.4-11.2   c-0.2,3.1-0.8,6.4-2,9.7c-5.1,14-18.8,23.7-38.7,27.4C277.9,458,274.1,458.4,270.4,458.4z" fill="url(#SVGID_7_)"/></g></svg>
				</td>
			</tr>
		</table>
		<svg onclick="login()" aria-hidden="true" class="fributton" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"></path></svg>
	</div>
	<div id="wrapper" style="display: none;">
		<div id="meny">
			<table class="tablewidth">
				<tr>
					<td>
						<svg onclick="changeuser();" aria-hidden="true" class="svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"></path></svg>
					</td>
					<td class="center head">
						<span id="anvandarnamn"></span>
					</td>
					<td class="right">
						<svg onclick="addraid();" id="buttonlaggtillraid" aria-hidden="true" class="svg nooffline" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"></path></svg>
					</td>
				</tr>
			</table>
		</div>
		<div id="addraid" style="display: none;">
			<p>Skärmdump</p>
			<input type="file" id="raidimage" onchange="makesmallimg(this.files[0]);makeicon(this.files[0]);imgtotext(this.files[0]);"><br/>
			<div class="center"><div class="wrapperraidimagepreview"><img src="img/ingenbild.png" id="raidimagepreview"></div></div>
			<p>Föreslagen tid</p>
			<input type="time" id="raidtid">
			<p>Kommentar</p>
			<textarea id="raidkommentar" onkeydown="checkkey(event, this, 'postraid');" onkeyup="this.value = rensaochsakra(this.value);"></textarea><br/>
			<svg onclick="postraid();" class="postbutton fributton nooffline" aria-hidden="true" class="svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path></svg>
			<svg onclick="hideaddreaid();" aria-hidden="true" class="fributton nooffline" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg>
		</div>
		<div id="posts">
			
		</div>
	</div>
	<div id="promptbg" style="display: none;"></div>
	<div id="prompt" style="display: none;">
		<span id="content">
			<p id="prompttext"></p>
			<span id="wrapperpromptinput"></span>
			<input type="button" id="promptaction" value=""><input type="button" id="promptback" onclick="promptclose();" value="Avbryt">
		</span>
	</div>
	<span onclick="document.getElementById('debug').removeAttribute('style');">Debug</span>
	<div id="debug" style="display: none;">
		<canvas id="iconCanvas" width="75" height="75" ></canvas>
		<canvas id="myCanvas" width="700" height="60" ></canvas>
		<textarea id="debugcode"></textarea>
		<input type="button" value="Göm" onclick="document.getElementById('debug').setAttribute('style', 'display: none;');">
	</div>
<script src="socket.io/socket.io.js"></script>
<script src="script/client.js"></script>
<script src="script/megapix-image.js"></script>
<script src='https://cdn.rawgit.com/naptha/tesseract.js/1.0.10/dist/tesseract.js'></script>
<script src="script/gymlund.js" type="text/javascript"></script>
<script type="text/javascript">
	var config = {
		imgdesaturate: 60, //0-255
		confidence: 70, //0-100
		sprak: 'swe',
		nopost: 'Inga raider reggade ännu idag.. Blir du den första?',
		loadjson: 'Du har varit bortkopplad från server, raid laddas om.'
	};
	function rensaochsakra(vari){
		return vari.replace(/[^A-Za-z0-9\s!?\u00C5\u00C4\u00D6\u00E5\u00E4\u00F6\u002D\u0028\u0029]/g,'');
	};
	function makeicon(file){
		var canvasid = 'iconCanvas';
		if(!file){notimg();return false;}else if(file.type == 'image/png' || file.type == 'image/jpeg'){}else{notimg();return false;};
		var reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload = function () {
				var canvas = document.getElementById(canvasid);
				var context = canvas.getContext('2d');
					context.clearRect(0, 0, canvas.width, canvas.height);
				var imageObj = new Image();
				imageObj.onload = function() {
					context.drawImage(imageObj, -14.6, -38.4, 104.2, 142.6);
					var url = canvas.toDataURL('image/jpeg', 0.1);
					document.getElementsByClassName('postbutton')[0].setAttribute('data-icon', url);
				};
				imageObj.src = reader.result;
			};
			reader.onerror = function (error) {
				console.log('Error: ', error);
			};
	};
	function imgtotext(file){
		var canvasid = 'myCanvas';
		if(!file){notimg();return false;}else if(file.type == 'image/png' || file.type == 'image/jpeg'){}else{notimg();return false;};
		document.getElementById('raidimagepreview').setAttribute('class', 'loading');
		disableonclick();
		var reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload = function () {
				var canvas = document.getElementById(canvasid);
				var context = canvas.getContext('2d');
					context.clearRect(0, 0, canvas.width, canvas.height);
				var imageObj = new Image();
				imageObj.onload = function() {
					context.drawImage(imageObj, -150, -80, 750, 1334);
					var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
			        var data = imageData.data;
			        var newColor = {r:255,g:255,b:255, a:255};
			        for(var i = 0; i < data.length; i += 4) {
			          data[i] = 255 - data[i];
			          data[i + 1] = 255 - data[i + 1];
			          data[i + 2] = 255 - data[i + 2];
			        };
					for (var i = 0, n = data.length; i <n; i += 4) {
					    var r = data[i],
					            g = data[i+1],
					            b = data[i+2];

					        if(r <= config.imgdesaturate && g <= config.imgdesaturate && b <= config.imgdesaturate){ 
					        }else{
					            data[i] = newColor.r;
					            data[i+1] = newColor.g;
					            data[i+2] = newColor.b;
					            data[i+3] = newColor.a;
					        };
					};
			        context.putImageData(imageData, 0, 0);
			        canvasToImg(canvasid);
				};
				imageObj.src = reader.result;
			};
			reader.onerror = function (error) {
				console.log('Error: ', error);
			};
	};
	function notimg(){
		var input = document.getElementById('raidimage')
			input.setAttribute('style', 'border: solid 2px red;');
			input.setAttribute('onclick', 'this.removeAttribute(\'style\');this.removeAttribute(\'onclick\');');
			input.value = '';
			document.getElementById('raidimagepreview').setAttribute('src', 'img/ingenbild.png');
	};
	function canvasToImg(id) {
		var canvas = document.getElementById(id);
		var ctx=canvas.getContext("2d");
		var url = canvas.toDataURL();
		Tesseract.recognize(url, {
		    lang: config.sprak
		}).catch(err => console.error(err)).then(function(result){
			console.log(result);													//Ta bort när allt är stabilt
			var excludegyms = gyms;
			var possible = [];
			for (var i = result.words.length - 1; i >= 0; i--) {
				if(result.words[i].confidence >= config.confidence){
					for (var a = excludegyms.length - 1; a >= 0; a--) {
						var check = excludegyms[a].namn.toLowerCase().includes(result.words[i].text.toLowerCase());
						if(check){
							if(possible.includes(excludegyms[a])){
								var pos = possible.indexOf(excludegyms[a]);
								possible[pos].confidence = (possible[pos].confidence + result.words[i].confidence) / 2;
							}else{
								excludegyms[a].confidence = result.words[i].confidence;
								possible.push(excludegyms[a]);
							};
						};
					};
				};
			};
			if(possible.length == 1){
				var winnerconf = possible[0].confidence;
				var winnerarray = possible[0];
				var debugconf = possible[0].confidence;							//Ta bort när allt är stabilt
			}else if(possible.length == 0){
				var winnerconf = 0;
				var winnerarray = '';
				var debugconf = 0;												//Ta bort när allt är stabilt
			}else{
				var winnerconf = 0;
				var winnerarray = '';
				var debugconf = 0;												//Ta bort när allt är stabilt
				for (var i = possible.length - 1; i >= 0; i--) {
					if(winnerconf <= possible[i].confidence){
						debugconf = (debugconf + possible[i].confidence) / 2;	//Ta bort när allt är stabilt
						winnerconf = possible[i].confidence;
						var winnerarray = possible[i];
					};
				};
			};
			if(winnerarray == ''){}else{
				var postbutton = document.getElementsByClassName('postbutton ')[0];
					postbutton.setAttribute('data-namn', winnerarray.namn);
					postbutton.setAttribute('data-exraid', winnerarray.exraid);
					postbutton.setAttribute('data-latitud', winnerarray.location.latitud);
					postbutton.setAttribute('data-longitud', winnerarray.location.longitud);
			};
			/*Ta bort när allt är stabilt*/
			var debugtext = [];
			for (var i = possible.length - 1; i >= 0; i--) {
				debugtext.push(possible[i].namn)
			};
			document.getElementById('debugcode').value = 'Winner: "' + winnerarray.namn + '". Before selecting winner: ' + possible.length + ' st. Confidence over all: ' + debugconf + ', and winners confidence: ' + winnerconf + ' ["' + debugtext.join('", "') + '"]';
			document.getElementById('raidimagepreview').removeAttribute('class');
			enableonclick();
			/*Ta bort när allt är stabilt slut*/
		})
    };
	function promptopen(message, inputtodo, func, active, back, data){
		if(inputtodo == 'false'){}else{
			var inputwrapper = document.getElementById('wrapperpromptinput');
				removechilds(inputwrapper);
				var input = document.createElement('input');
					input.setAttribute('type', 'text');
					input.setAttribute('id', 'promptinput');
					input.setAttribute('onkeydown', 'checkkey(event, this, "ok");');
					input.setAttribute('onkeyup', 'this.value = rensaochsakra(this.value);');
				inputwrapper.appendChild(input);
				inputwrapper.appendChild(document.createElement('br'));
		};
		var p = document.getElementById('prompttext');
		removechilds(p);
			p.appendChild(document.createTextNode(message));
		var actionbutton = document.getElementById('promptaction');
			actionbutton.value = active;
			actionbutton.setAttribute('onclick', func + '(this, "' + inputtodo + '");promptclose();');
			actionbutton.setAttribute('data-info', data);
		document.getElementById('promptback').value = back;
		document.getElementById('prompt').removeAttribute('style');
		document.getElementById('promptbg').removeAttribute('style');
		if(inputtodo == 'false'){}else{
			document.getElementById('promptinput').focus();
		};
	};
	function promptclose(){
		document.getElementById('prompt').setAttribute('style', 'display: none;');
		document.getElementById('promptbg').setAttribute('style', 'display: none;');
		removechilds(document.getElementById('prompttext'));
		removechilds(document.getElementById('wrapperpromptinput'));
		var actionbutton = document.getElementById('promptaction');
			actionbutton.value = '';
			actionbutton.removeAttribute('onclick');
			actionbutton.removeAttribute('data-info');
		document.getElementById('promptback').value = '';
	};
	function removechilds(parent){
		if(parent.hasChildNodes()){
			while (parent.hasChildNodes()) {
				parent.removeChild(parent.firstChild);
			};
		};
	};
	function makesmallimg(file){
		if(!file){notimg();return false;}else if(file.type == 'image/png' || file.type == 'image/jpeg'){}else{notimg();return false;};
		document.getElementById('raidimagepreview').src = 'img/laddar.png';
	    var mpImg = new MegaPixImage(file);
	    var resImg = document.getElementById('raidimagepreview');
	    mpImg.render(resImg, { maxWidth: 300, maxHeight: 535, quality: 0.5 });
	    document.getElementById('raidtid').focus();
	};
	function checkkey(e, element, todo, id){
		if (event.which == 13 || event.keyCode == 13) {
			if(todo == 'postraid'){
				postraid();
			}else if(todo == 'edit'){
				element.blur();
			}else if(todo == 'kommentsend'){
				console.log('Skriver automatiskt med följande id: ' + id);
				skickakommentar(id);
			}else if(todo == 'ok'){
				document.getElementById('promptaction').click();
			};
			event.preventDefault();
			e.preventDefault();
		};
	};
	//Datum funktion.
	function addzero(number){if(number <= 9){return "0" + number;}else{return number;};};
	function getDate(dateannan, timeannan, milisecsave){
		if(!dateannan && !timeannan && !milisecsave){var date = new Date();}else if(!milisecsave){var annatdatum = dateannan.split('-');var annattid = timeannan.split(':');var date = new Date(annatdatum[0], annatdatum[1] - 1, annatdatum[2], annattid[0], annattid[1]);}else{var date = new Date(parseInt(milisecsave));};
		return {"datum": date.getFullYear() + '-' + addzero(date.getMonth() + 1) + '-' + addzero(date.getDate()), "tid": addzero(date.getHours()) + ':' + addzero(date.getMinutes()), "milisec": date.getTime(), "manad": date.getFullYear() + '-' + addzero(date.getMonth() + 1)};
	};
	function addraid(){
		document.getElementById('raidtid').value = getDate().tid;
		var button = document.getElementById('buttonlaggtillraid');
			button.setAttribute('onclick', 'hideaddreaid();');
			button.setAttribute('viewBox', '0 0 512 512');
			button.firstChild.setAttribute('d', 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z');
		document.getElementById('addraid').removeAttribute('style');
		document.getElementById('raidimage').click();
	};
	function hideaddreaid(){
		document.getElementById('raidimage').value = '';
		var raidimagepreview = document.getElementById('raidimagepreview')
			raidimagepreview.src = 'img/ingenbild.png';
			raidimagepreview.removeAttribute('class');
		document.getElementById('raidtid').value = '';
		document.getElementById('raidkommentar').value = '';
		var button = document.getElementById('buttonlaggtillraid');
			button.setAttribute('onclick', 'addraid(this);');
			button.setAttribute('viewBox', '0 0 448 512');
			button.firstChild.setAttribute('d', 'M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z');
		document.getElementById('addraid').setAttribute('style', 'display: none;');
	};
	function postraid(){
		var postbutton = document.getElementsByClassName('postbutton')[0];
		var exraid = 'false';
		if(!postbutton.getAttribute('data-exraid')){}else{
			var exraid = postbutton.getAttribute('data-exraid');
		};
		var gymnamn = '';
		if(!postbutton.getAttribute('data-exraid')){}else{
			var gymnamn = postbutton.getAttribute('data-namn');
		};
		var icon = '';
		if(!postbutton.getAttribute('data-icon')){}else{
			var icon = postbutton.getAttribute('data-icon');
		};
		var location = 'false';
		if(!postbutton.getAttribute('data-longitud') && postbutton.getAttribute('data-latitud')){}else{
			var location = {"longitud": postbutton.getAttribute('data-longitud'), "latitud": postbutton.getAttribute('data-latitud')};
		};
		socket.emit('postraid', {"raidimage": document.getElementById('raidimagepreview').src, "raidtid": document.getElementById('raidtid').value, raidkommentar: document.getElementById('raidkommentar').value, "exraid": exraid, "location": location, "gymnamn": gymnamn, "icon": icon});
		hideaddreaid(document.getElementById('buttonlaggtillraid'));
	};
	function changeuser(){
		localStorage.removeItem('userdata');
		location.reload();
	};
	function chooseteam(element){
		var allteam = document.getElementById('teamwrapper').getElementsByTagName('td');
		for (var i = allteam.length - 1; i >= 0; i--) {
			allteam[i].removeAttribute('class');
		};
		element.setAttribute('class', 'chosenteam');
	};
	var geturl = window.location.href.replace('http://', '').replace('https://', '').split('/')[0];
	//Lyssnar om server säger något
	var socket = io.connect(geturl);
	function load(){
	};
	function addinfo(message){
		var wrapper = document.getElementById('posts');
    		var noposts = document.createElement('p');
    			noposts.setAttribute('id', 'nopost');
    			var nopoststext = document.createTextNode(message);
    			noposts.appendChild(nopoststext);
    		wrapper.appendChild(noposts);
	};
	function getraids(){
		removechilds(document.getElementById('posts'));
		addinfo(config.loadjson);
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.onreadystatechange = function() {
		    if (this.readyState == 4 && this.status == 200) {
		    	removechilds(document.getElementById('posts'));
		        var data = JSON.parse(this.responseText);
		        if(!data.raiddata){}else if(data.raiddata.length == 0){
		        	addinfo(config.nopost);
		        }else{
					for (var i = data.raiddata.length - 1; i >= 0; i--) {
						addpost(data.raiddata[i].username, data.raiddata[i].team, data.raiddata[i].raidtid, data.raiddata[i].raidkommentar, data.raiddata[i].raidimage, data.raiddata[i].kommer, data.raiddata[i].kommentar, data.raiddata[i].id, 'false', data.raiddata[i].exraid, data.raiddata[i].location);
					};
				};
		    }
		};
		xmlhttp.open("GET", "raids.json", true);
		xmlhttp.send();
	};
	function login(){
		document.getElementById('registrera').setAttribute('style', 'display: none;');
		var username = document.getElementById('namn').value;
		if(username == ''){
			var username = 'anonym';
		};
		var allteam = document.getElementById('teamwrapper').getElementsByTagName('td');
		for (var i = allteam.length - 1; i >= 0; i--) {
			if(allteam[i].getAttribute('class') == 'chosenteam'){
				var team = allteam[i].getAttribute('data-team');
			};
		};
		localStorage.setItem('userdata', '{"username": "' + rensaochsakra(username) + '", "team": "' + rensaochsakra(team) + '"}');
		socket.emit('login', '{"username": "' + rensaochsakra(username) + '", "team": "' + rensaochsakra(team) + '"}');
	};
	socket.on('sendinfo', function (data) {
		if(data.anonym == 'true'){
			localStorage.setItem('userdata', '{"username": "' + data.userinfo.username + '", "team": "' + data.userinfo.team + '"}');
		};
		document.getElementById('wrapper').removeAttribute('style');
		var userwrapper = document.getElementById('anvandarnamn');
			removechilds(userwrapper);
			userwrapper.appendChild(document.createTextNode(data.userinfo.username));
		document.getElementById('meny').setAttribute('class', data.userinfo.team + 'bg');
	});
	socket.on('nyraid', function (data) {
		var wrapper = document.getElementById('nopost');
		if(!wrapper){}else{
			wrapper.parentElement.removeChild(wrapper);
		};
		addpost(data.username, data.team, data.raidtid, data.raidkommentar, data.raidimage, data.kommer, data.kommentar, data.id, 'true', data.exraid, data.location);
	});
	function addpost(username, team, raidtid, raidkommentar, raidimage, kommernummer, kommentarer, id, firstorlast, exraid, location){
		var wrapper = document.getElementById('posts');
			var body = document.createElement('span');
				body.setAttribute('class', 'postbody');
				body.setAttribute('id', id);
				var user = document.createElement('table');
					user.setAttribute('class', team + 'bg tablewidth');
					var usertr = document.createElement('tr');
						var usertd = document.createElement('td');
							var userp = document.createElement('p');
								var usernametext = document.createTextNode(username);
								userp.appendChild(usernametext);
							usertd.appendChild(userp);
						usertr.appendChild(usertd);
						var taborttd = document.createElement('td');
							taborttd.setAttribute('class', 'right');
							if(location == 'false' || !location){}else{
								var mapslank = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
									mapslank.setAttribute('aria-hidden', 'true');
									mapslank.setAttribute('class', 'svg');
									mapslank.setAttribute('role', 'img');
									mapslank.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
									mapslank.setAttribute('viewBox', '0 0 496 512');
									mapslank.setAttribute('onclick', 'window.open("http://maps.google.com/?q=' + location.longitud + ',' + location.latitud + '")');
									var mapslankpath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
										mapslankpath.setAttribute('fill', 'currentColor');
										mapslankpath.setAttribute('d', 'M347.94 129.86L203.6 195.83a31.938 31.938 0 0 0-15.77 15.77l-65.97 144.34c-7.61 16.65 9.54 33.81 26.2 26.2l144.34-65.97a31.938 31.938 0 0 0 15.77-15.77l65.97-144.34c7.61-16.66-9.54-33.81-26.2-26.2zm-77.36 148.72c-12.47 12.47-32.69 12.47-45.16 0-12.47-12.47-12.47-32.69 0-45.16 12.47-12.47 32.69-12.47 45.16 0 12.47 12.47 12.47 32.69 0 45.16zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 448c-110.28 0-200-89.72-200-200S137.72 56 248 56s200 89.72 200 200-89.72 200-200 200z');
									mapslank.appendChild(mapslankpath);
								taborttd.appendChild(mapslank);
							};
							var tabort = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
								tabort.setAttribute('aria-hidden', 'true');
								tabort.setAttribute('class', 'svg nooffline');
								tabort.setAttribute('role', 'img');
								tabort.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
								tabort.setAttribute('viewBox', '0 0 512 512');
								tabort.setAttribute('onclick', 'remove("' + id + '", "' + username + '", "' + team + '");');
								var tabortpath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
									tabortpath.setAttribute('fill', 'currentColor');
									tabortpath.setAttribute('d', 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z');
								tabort.appendChild(tabortpath);
							taborttd.appendChild(tabort);
						usertr.appendChild(taborttd);
					user.appendChild(usertr);
				body.appendChild(user);
				var kommentar = document.createElement('p');
					kommentar.setAttribute('onclick', 'edit("' + id + '", "' + username + '", "' + team + '", this);');
					kommentar.setAttribute('class', 'posttext nooffline');
					var kommentartext = document.createTextNode(raidtid + ' ' + raidkommentar)
					kommentar.appendChild(kommentartext);
				body.appendChild(kommentar);
				var imgwrapp = document.createElement('div');
					imgwrapp.setAttribute('class', 'center');
					var imginnerwrapp = document.createElement('span');
						imginnerwrapp.setAttribute('class', 'raidimagewrapp');
						var img = document.createElement('img');
							img.setAttribute('src', raidimage);
							img.setAttribute('class', 'raidimage');
						imginnerwrapp.appendChild(img);
						if(!exraid){}else{
							if(exraid == 'true'){
								//	img.setAttribute('class', 'raidimage exraid');
								var eximg = document.createElement('img');
									eximg.setAttribute('src', 'img/ex-raid.png');
									eximg.setAttribute('class', 'exraid');
								imginnerwrapp.appendChild(eximg);
							};
						};
					imgwrapp.appendChild(imginnerwrapp);
				body.appendChild(imgwrapp);
				var tableextra = document.createElement('table');
					tableextra.setAttribute('class', 'tablewidth');
					var tabletr = document.createElement('tr');
						var kommertd = document.createElement('td');
							kommertd.setAttribute('onclick', 'kommer("' + id + '");');
							kommertd.setAttribute('class', 'invert nooffline');
							var kommer = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
								kommer.setAttribute('aria-hidden', 'true');
								kommer.setAttribute('class', 'svg');
								kommer.setAttribute('role', 'img');
								kommer.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
								kommer.setAttribute('viewBox', '0 0 640 512');
								var kommerpath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
									kommerpath.setAttribute('fill', 'currentColor');
									kommerpath.setAttribute('d', 'M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z');
								kommer.appendChild(kommerpath);
							kommertd.appendChild(kommer);
						tabletr.appendChild(kommertd);
						var kommerantaltd = document.createElement('td');
							kommerantaltd.setAttribute('onclick', 'kommer("' + id + '");');
							kommerantaltd.setAttribute('class', 'kommernummer invert nooffline');
							var kommerantal = document.createTextNode('(' + kommernummer.length + ')');
							kommerantaltd.appendChild(kommerantal);
						tabletr.appendChild(kommerantaltd);
						var spacer = document.createElement('td');
							spacer.setAttribute('width', '100%');
						tabletr.appendChild(spacer);
						var kommentartd = document.createElement('td');
							kommentartd.setAttribute('class', 'right invert');
							kommentartd.setAttribute('onclick', 'hideshowkomment("' + id + '");');
							var kommentar = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
								kommentar.setAttribute('aria-hidden', 'true');
								kommentar.setAttribute('class', 'svg');
								kommentar.setAttribute('role', 'img');
								kommentar.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
								kommentar.setAttribute('viewBox', '0 0 576 512');
								var kommentarpath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
									kommentarpath.setAttribute('fill', 'currentColor');
									kommentarpath.setAttribute('d', 'M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z');
								kommentar.appendChild(kommentarpath);
							kommentartd.appendChild(kommentar);
						tabletr.appendChild(kommentartd);
						var kommentarantaltd = document.createElement('td');
							kommentarantaltd.setAttribute('onclick', 'hideshowkomment("' + id + '");');
							kommentarantaltd.setAttribute('class', 'kommentnummer invert nooffline');
							kommentarantaltd.setAttribute('data-num', kommentarer.length);
							var kommerantal = document.createTextNode('(' + kommentarer.length + ')');
							kommentarantaltd.appendChild(kommerantal);
						tabletr.appendChild(kommentarantaltd);
					tableextra.appendChild(tabletr);
				body.appendChild(tableextra);
				var kommentarwrapper = document.createElement('div');
					kommentarwrapper.setAttribute('class', 'kommentarwrapper');
					kommentarwrapper.setAttribute('style', 'display: none;');
					var kommentholder = document.createElement('span');
						kommentholder.setAttribute('class', 'kommentholder');
					kommentarwrapper.appendChild(kommentholder);
					var kommenttextarea = document.createElement('textarea');
						kommenttextarea.setAttribute('class', 'kommentartextarea');
						kommenttextarea.setAttribute('onkeydown', 'checkkey(event, this, "kommentsend", "' + id + '");');
						kommenttextarea.setAttribute('onkeyup', 'this.value = rensaochsakra(this.value);');
					kommentarwrapper.appendChild(kommenttextarea);
					var kommentarbr = document.createElement('br');
					kommentarwrapper.appendChild(kommentarbr);
					var kommentsend = document.createElement('input');
						kommentsend.setAttribute('type', 'button');
						kommentsend.setAttribute('value', 'Skicka/Send');
						kommentsend.setAttribute('class', 'kommentsend nooffline');
						kommentsend.setAttribute('onclick', 'skickakommentar("' + id + '")');
						kommentsend.setAttribute('onkeyup', 'this.value = rensaochsakra(this.value);');
					kommentarwrapper.appendChild(kommentsend);
				body.appendChild(kommentarwrapper);
		if(firstorlast == 'true'){
			wrapper.insertBefore(body, wrapper.childNodes[0]); 
		}else{
			wrapper.appendChild(body);
		};
		if(!kommentarer){}else{
			for (var i = 0; i < kommentarer.length; i++){
				addkomment(kommentarer[i])
			};
		};
	};
	function skickakommentar(id){
		var text = document.getElementById(id).getElementsByTagName('textarea')[0];
		socket.emit('addkomment', {"id": id, "kommentar": text.value});
		text.value = '';
	};
	function hideshowkomment(id){
		var wrapper = document.getElementById(id).getElementsByClassName('kommentarwrapper')[0];
		if(!wrapper.getAttribute('style')){
			wrapper.setAttribute('style', 'display: none;');
		}else{
			wrapper.removeAttribute('style');
			wrapper.getElementsByClassName('kommentartextarea')[0].focus();
		};
	};
	socket.on('nykommentar', function (data) {
		var button = document.getElementById(data.id).getElementsByClassName('kommentnummer')[0];
		var wrapper = document.getElementById(data.id).getElementsByClassName('kommentholder')[0];
		var num = wrapper.getElementsByTagName('p').length + 1;
			var number = document.createTextNode('(' + num + ')');
			console.log(number);
			removechilds(button);
			button.appendChild(number);
		addkomment(data);
	});
	function addkomment(data){
		var wrapper = document.getElementById(data.id)
			var kommentwrapper = wrapper.getElementsByClassName('kommentholder')[0];
				var p = document.createElement('p');
					var user = document.createElement('span');
						user.setAttribute('class', data.team);
						var usertext = document.createTextNode(data.time + ' ' + data.username + ': ');
						user.appendChild(usertext);
					p.appendChild(user);
					var ptext = document.createTextNode(data.kommentar);
					p.appendChild(ptext);
				kommentwrapper.appendChild(p);
	};
	function kommer(id){
		socket.emit('addkommer', id);
	};
	socket.on('nykommer', function (data) {
		var wrapper = document.getElementById(data.id).getElementsByClassName('kommernummer')[0];
		removechilds(wrapper);
			var newtext = document.createTextNode('(' + data.data.length + ')')
			wrapper.appendChild(newtext);
	});
	function remove(id, username, team){
		var localinfo = JSON.parse(localStorage.getItem('userdata'));
		if(localinfo.username == username && localinfo.team == team){
			var data = '{"id": "' + id + '", "losen": "false", "username": "' + username + '", "team": "' + team + '"}';
			promptopen('Säker på att du vill ta bort ditt inlägg?', 'false', 'removeaction', 'Ja', 'Nej', data);
		}else{
			promptopen('Admin säg det hemliga ordet!', 'true', 'removeaction', 'Logga in', 'Avbryt', '{"id": "' + id + '"}');
		};
	};
	function removeaction(element, inputtodo){
		var datatosend = JSON.parse(element.getAttribute('data-info'));
		if(inputtodo == 'true'){
			datatosend.losen = document.getElementById('promptinput').value;
		};
		socket.emit('remove', datatosend);
	};
	socket.on('remove', function (id) {
		var wrapper = document.getElementById(id);
			wrapper.parentElement.removeChild(wrapper);
		if(document.getElementsByClassName('postbody').length == 0){
			addinfo(config.nopost);
		};
	});
	function edit(id, username, team, element){
		if(element.tagName == 'P'){
			var localinfo = JSON.parse(localStorage.getItem('userdata'));
			if(localinfo.username == username && localinfo.team == team){
				changeedit(id, 'false');
			}else{
				promptopen('Admin säg det hemliga ordet!', 'true', 'adminedit', 'Logga in', 'Avbryt', '{"id": "' + id + '"}');
			};
		}else{
			var textwrapper = document.getElementById(id).getElementsByClassName('posttext')[0];
				var inputs = textwrapper.getElementsByTagName('input');
			socket.emit('edittext', {"id": id, "time": inputs[0].value, "text": inputs[1].value, "admin": element.getAttribute('data-admin')});
		};
	};
	function adminedit(element, inputtodo){
		var datatosend = JSON.parse(element.getAttribute('data-info'));
		if(inputtodo == 'true'){
			datatosend.losen = document.getElementById('promptinput').value;
		};
		socket.emit('isadmin', datatosend);
	};
	socket.on('edittext', function (data) {
		var textwrapper = document.getElementById(data.id).getElementsByClassName('posttext')[0];
			textwrapper.setAttribute('onclick', 'edit("' + data.id + '", "' + data.username + '", "' + data.team + '", this);');
			var kommentartext = document.createTextNode(data.time + ' ' + data.text);
			removechilds(textwrapper);
			textwrapper.appendChild(kommentartext);
	});
	socket.on('isadmin', function (data) {
		if(data.todo == 'true'){
			changeedit(data.id, 'true');
		};
	});
	function changeedit(id, admin){
		var textwrapper = document.getElementById(id).getElementsByClassName('posttext')[0];
		var textsplit = textwrapper.innerText.split(' ');
		var time = textsplit[0];
			textsplit.shift()
		var text = textsplit.join(' ');
		removechilds(textwrapper);
			var timeelem = document.createElement('input');
				timeelem.setAttribute('type', 'time');
				timeelem.setAttribute('value', time);
				timeelem.setAttribute('data-admin', admin);
				timeelem.setAttribute('onblur', textwrapper.getAttribute('onclick'));
				timeelem.setAttribute('onkeydown', 'checkkey(event, this, "edit")');
			textwrapper.appendChild(timeelem);
			var textelem = document.createElement('input');
				textelem.setAttribute('type', 'text');
				textelem.setAttribute('value', text);
				textelem.setAttribute('data-admin', admin);
				textelem.setAttribute('onblur', textwrapper.getAttribute('onclick'));
				textelem.setAttribute('onkeydown', 'checkkey(event, this, "edit")');
			textwrapper.appendChild(textelem);
			textwrapper.removeAttribute('onclick')
	};
	function error(type, text){
		var message = document.getElementById('message');
			removechilds(message);
			var text = document.createTextNode(text);
			message.appendChild(text);
			message.setAttribute('class', type + ' show');
			setTimeout(function(){message.removeAttribute('class');}, 3000);
	};
	var aterkopplad = 'false';
	function disableonclick(){
		var allnooffline = document.getElementsByClassName('nooffline');
		for (var i = allnooffline.length - 1; i >= 0; i--) {
			if(!allnooffline[i].getAttribute('onclick')){}else{
				allnooffline[i].setAttribute('data-onclick', allnooffline[i].getAttribute('onclick'));
				allnooffline[i].setAttribute('disabled', 'disabled');
				allnooffline[i].setAttribute('class', allnooffline[i].getAttribute('class') + ' disabled');
				allnooffline[i].removeAttribute('onclick');
			};
		};
	};
	socket.on('disconnect', function () {
		error('error', 'Du tappade kopplingen till servern.');
		promptclose();
		hideaddreaid();
		disableonclick();
		aterkopplad = 'true';
	});
	function enableonclick(){
		var allnooffline = document.getElementsByClassName('nooffline');
		for (var i = allnooffline.length - 1; i >= 0; i--) {
			if(!allnooffline[i].getAttribute('data-onclick')){}else{
				allnooffline[i].setAttribute('onclick', allnooffline[i].getAttribute('data-onclick'));
				allnooffline[i].setAttribute('class', allnooffline[i].getAttribute('class').replace(' disabled', ''));
				allnooffline[i].removeAttribute('data-onclick');
				allnooffline[i].removeAttribute('disabled');
			};
		};
	};
	socket.on('loadjson', function () {
		if(!localStorage.getItem('userdata')){
			document.getElementById('registrera').removeAttribute('style');
		}else{
			if(aterkopplad == 'true'){
				error('good', 'Du är kopplad till servern.');
				aterkopplad = 'false';
			};
			socket.emit('login', localStorage.getItem('userdata'));
		};
		getraids();
		enableonclick();
	});
</script>
</body>
</html>
